(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2384e1"],{ff8c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"box-card"},[n("div",{staticStyle:{display:"block","font-size":"10px"}},[n("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:function(e){return t.addManagement()}}},[t._v("新增管理员")]),n("el-input",{staticStyle:{width:"130px",height:"10px"},attrs:{icon:"el-icon-plus",placeholder:"输入名字搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.name.toLowerCase().includes(t.search.toLowerCase())}))}},[n("el-table-column",{attrs:{label:"id",prop:"id"}}),n("el-table-column",{attrs:{label:"姓名",prop:"name"}}),n("el-table-column",{attrs:{label:"手机",prop:"phone"}}),n("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(t){}},{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])}),n("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(t){}},{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.Initialization(e.$index,e.row)}}},[t._v("重置密码")])]}}])})],1),n("el-dialog",{attrs:{title:"新增管理员",visible:t.dialogVisible,width:"25%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{ref:"Management",attrs:{model:t.Management,"label-width":"80px",rules:t.rules}},[n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{model:{value:t.Management.name,callback:function(e){t.$set(t.Management,"name",e)},expression:"Management.name"}})],1),n("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[n("el-input",{model:{value:t.Management.phone,callback:function(e){t.$set(t.Management,"phone",e)},expression:"Management.phone"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("Management")}}},[t._v("确定")]),n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])],1)],1)],1)],1)},o=[],i=(n("7f7f"),{data:function(){var t=function(t,e,n){if(11!=e.length)return n(new Error("手机号码应该为11位"));n()};return{rules:{phone:[{validator:t,trigger:"blur"}]},dialogVisible:!1,dialogVisible2:!1,Admin:{name:"",phone:""},Management:{id:"190327064111",name:"王小虎",phone:""},userinfo:{id:"190327064111",name:"王小虎",phone:""},tableData:[],search:"",value:[]}},methods:{addManagement:function(){this.dialogVisible=!0,this.Management.id="",this.Management.name="",this.Management.phone=""},handleChange:function(t){console.log(t),this.user.school=t[0],this.user.department=t[1]},handleDelete:function(t,e){var n=this;this.Management=e;var a=this;console.log(this.Management.name),this.$axios.post("http://47.112.239.108:8080/webadmin/delete/"+this.Management.name,{},{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){a.$alert("删除数据成功","删除数据",{confirmButtonText:"确定",callback:function(t){}}),a.$axios.get("http://47.112.239.108:8080/webadmin/getAll",{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){a.tableData=t.data}))})).catch((function(t){n.$confirm("token已经过期了，请点击确定重新登录","提示",{confirmButtonText:"确定",type:"warning"}).then((function(){n.$store.commit("LOGIN_OUT"),window.location.reload()}))}))},addDelete:function(t,e){console.log(t,e)},Initialization:function(t,e){var n=this,a=this;this.$axios.post("http://47.112.239.108:8080/webadmin/defaultadmin/"+e.name,{},{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){a.$alert("初始化数据成功","初始化数据",{confirmButtonText:"确定",callback:function(t){}})})).catch((function(t){n.$confirm("token已经过期了，请点击确定重新登录","提示",{confirmButtonText:"确定",type:"warning"}).then((function(){n.$store.commit("LOGIN_OUT"),window.location.reload()}))}))},doAdd:function(t,e){this.dialogVisible=!1},onSubmit:function(t){var e=this,n=this;this.$refs[t].validate((function(t){t?(e.dialogVisible=!1,e.Admin.name=e.Management.name,e.Admin.phone=e.Management.phone,console.log(e.Admin),e.$axios.post("http://47.112.239.108:8080/webadmin/addadmin",e.Admin,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){n.$message({type:"success",message:t.data}),n.$axios.get("http://47.112.239.108:8080/webadmin/getAll",{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){n.tableData=t.data}))})).catch((function(t){e.$confirm("token已经过期了，请点击确定重新登录","提示",{confirmButtonText:"确定",type:"warning"}).then((function(){e.$store.commit("LOGIN_OUT"),window.location.reload()}))})),console.log("success")):console.log("error submit!!")}))}},created:function(){var t=this,e=this;this.$axios.get("http://47.112.239.108:8080/webadmin/getAll",{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){e.tableData=t.data})).catch((function(e){t.$confirm("token已经过期了，请点击确定重新登录","提示",{confirmButtonText:"确定",type:"warning"}).then((function(){t.$store.commit("LOGIN_OUT"),window.location.reload()}))}))}}),l=i,c=n("2877"),r=Object(c["a"])(l,a,o,!1,null,null,null);e["default"]=r.exports}}]);